<!doctype html>
<!--[if IE 9]>
<html class="lt-ie10" lang="en"> <![endif]-->
<html class="no-js" lang="en" data-useragent="Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.2; Trident/6.0)">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Logging configuration</title>
        <meta name="description" content="Logging configuration code snippets for common libraries like Logback or Log4J.">
        <meta name="author" content="GÃ©rald Quintana">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
        <link rel="stylesheet" href="/css/coderay.css">
        <link rel="stylesheet" href="/css/asciidoc2.css">
        <link rel="stylesheet"
              href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/styles/default.min.css">
    </head>
    <body>
        <header class="container sticky-top">
            <nav class="navbar navbar-expand-md navbar-dark bg-dark">
                 <a class="navbar-brand" href="/"><h1>JRald blog</h1></a>
                 <h2>
                     <a href="https://twitter.com/gerald_quintana"><i class="fa fa-twitter"></i></a>
                     <a href="https://github.com/gquintana"><i class="fa fa-github"></i></a>
                 </h2>
            </nav>
        </header>
        <main class="container position-relative " role="main">
            <div>
    <h1>Logging configuration</h1>
    <div>
        <img class="rounded float-right" src="../../../images/logos/java.png"/>
        <h5>
            <span>2019-05-17</span>
            <span class="badge badge-secondary">java</span> 
        </h5>

        <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>There is nothing fundamentally new in this article.
It&#8217;s just a quick reminder (to myself) about Java logging framework configuration.</p>
</div>
<div class="paragraph">
<p>The configuration files will contain:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Console aka stdout output</p>
</li>
<li>
<p>Rolling file output with both date and size rolling policies.
Rotating the file every day is practical because it allows to find yesterday&#8217;s failure cause easily.
Rotating when the file reaches a given size allows to protect against disk flood.</p>
</li>
<li>
<p>Sample log patterns to help formating log file.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Logging libraries support multiple configuration file format: XML, Properties, YAML&#8230;&#8203; I chose to use XML, it&#8217;s a matter of taste.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="logback">Logback</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="title">pom.xml</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">        <span class="tag">&lt;dependency&gt;</span>
            <span class="tag">&lt;groupId&gt;</span>ch.qos.logback<span class="tag">&lt;/groupId&gt;</span>
            <span class="tag">&lt;artifactId&gt;</span>logback-classic<span class="tag">&lt;/artifactId&gt;</span>
            <span class="tag">&lt;scope&gt;</span>runtime<span class="tag">&lt;/scope&gt;</span>
        <span class="tag">&lt;/dependency&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Logback implements SLF4J from the ground up.</p>
</div>
<div class="listingblock">
<div class="title">logback.xml</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="preprocessor">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="tag">&lt;configuration</span> <span class="attribute-name">debug</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">true</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span><i class="conum" data-value="1"></i><b>(1)</b>
    <span class="comment">&lt;!-- Properties --&gt;</span>
    <span class="tag">&lt;property</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">log.dir</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">target/log</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span><i class="conum" data-value="2"></i><b>(2)</b>

    <span class="comment">&lt;!-- Appenders --&gt;</span>
    <span class="tag">&lt;appender</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">CONSOLE</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">ch.qos.logback.core.ConsoleAppender</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;encoder&gt;</span><i class="conum" data-value="3"></i><b>(3)</b>
            <span class="tag">&lt;pattern&gt;</span>%date{HH:mm:ss.SSS} %-5level [%thread] %logger{1} - %msg%n<span class="tag">&lt;/pattern&gt;</span>
        <span class="tag">&lt;/encoder&gt;</span>
    <span class="tag">&lt;/appender&gt;</span>
    <span class="tag">&lt;appender</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">FILE</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">ch.qos.logback.core.rolling.RollingFileAppender</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;file&gt;</span>blog.log<span class="tag">&lt;/file&gt;</span>
        <span class="tag">&lt;rollingPolicy</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
            <span class="tag">&lt;fileNamePattern&gt;</span>${log.dir}/blog.%d{yyyy-MM-dd}-%i.log<span class="tag">&lt;/fileNamePattern&gt;</span>
            <span class="tag">&lt;maxFileSize&gt;</span>10MB<span class="tag">&lt;/maxFileSize&gt;</span>
            <span class="tag">&lt;maxHistory&gt;</span>10<span class="tag">&lt;/maxHistory&gt;</span>
            <span class="tag">&lt;totalSizeCap&gt;</span>100MB<span class="tag">&lt;/totalSizeCap&gt;</span>
        <span class="tag">&lt;/rollingPolicy&gt;</span>
        <span class="tag">&lt;encoder&gt;</span><i class="conum" data-value="4"></i><b>(4)</b>
            <span class="tag">&lt;pattern&gt;</span>%date{ISO8601} %-5level [%thread] %logger - %msg%n<span class="tag">&lt;/pattern&gt;</span>
        <span class="tag">&lt;/encoder&gt;</span>
    <span class="tag">&lt;/appender&gt;</span>

    <span class="comment">&lt;!-- Loggers --&gt;</span>
    <span class="tag">&lt;logger</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">com.github.gquintana.logging</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">level</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">DEBUG</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;root</span> <span class="attribute-name">level</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">DEBUG</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;appender-ref</span> <span class="attribute-name">ref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">CONSOLE</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;appender-ref</span> <span class="attribute-name">ref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">FILE</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;/root&gt;</span>
<span class="tag">&lt;/configuration&gt;</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The <code>debug</code> flag enables Logback startup logs.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The <code>log.dir</code> property can be overriden at JVM (<code>-Dlog.dir=&#8230;&#8203;</code>) or OS level.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The <code>pattern</code> is documented in the <a href="https://logback.qos.ch/manual/layouts.html#ClassicPatternLayout">layout</a> section.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Format the <code>date</code> in ISO8601.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You can force Logback to use a specific configuration file using a JVM property <code>-Dlogback.configurationFile=/path/to/config.xml</code>.</p>
</div>
<div class="paragraph">
<p>The <a href="https://logback.qos.ch/manual/index.html">Logback Manual</a> contains detailed information.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="log4j2">Log4J2</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="title">pom.xml</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">        <span class="tag">&lt;dependency&gt;</span>
            <span class="tag">&lt;groupId&gt;</span>org.apache.logging.log4j<span class="tag">&lt;/groupId&gt;</span>
            <span class="tag">&lt;artifactId&gt;</span>log4j-slf4j-impl<span class="tag">&lt;/artifactId&gt;</span>
            <span class="tag">&lt;scope&gt;</span>runtime<span class="tag">&lt;/scope&gt;</span>
        <span class="tag">&lt;/dependency&gt;</span>
        <span class="tag">&lt;dependency&gt;</span>
            <span class="tag">&lt;groupId&gt;</span>org.apache.logging.log4j<span class="tag">&lt;/groupId&gt;</span>
            <span class="tag">&lt;artifactId&gt;</span>log4j-core<span class="tag">&lt;/artifactId&gt;</span>
            <span class="tag">&lt;scope&gt;</span>runtime<span class="tag">&lt;/scope&gt;</span>
        <span class="tag">&lt;/dependency&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The Log4J2-SLF4J adapter is in the Log4J2 group.</p>
</div>
<div class="listingblock">
<div class="title">log4j2.xml</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="preprocessor">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="tag">&lt;Configuration</span> <span class="attribute-name">status</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">trace</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span><i class="conum" data-value="1"></i><b>(1)</b>
    <span class="comment">&lt;!-- Properties --&gt;</span>
    <span class="tag">&lt;Properties&gt;</span><i class="conum" data-value="2"></i><b>(2)</b>
        <span class="tag">&lt;Property</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">logDir</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>${sys:log.dir:-target/log}<span class="tag">&lt;/Property&gt;</span>
    <span class="tag">&lt;/Properties&gt;</span>

    <span class="comment">&lt;!-- Appenders --&gt;</span>
    <span class="tag">&lt;Appenders&gt;</span>
        <span class="tag">&lt;Console</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">CONSOLE</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span><i class="conum" data-value="3"></i><b>(3)</b>
            <span class="tag">&lt;PatternLayout</span> <span class="attribute-name">pattern</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">%date{HH:mm:ss.SSS} %-5level [%thread] %logger{1} - %msg%n</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;/Console&gt;</span>
        <span class="tag">&lt;RollingFile</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">FILE</span><span class="delimiter">&quot;</span></span>
                     <span class="attribute-name">fileName</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">${logDir}/blog.log</span><span class="delimiter">&quot;</span></span>
                     <span class="attribute-name">filePattern</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">${logDir}/blog.%d{yyyy-MM-dd}-%i.log.gz</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
            <span class="tag">&lt;PatternLayout&gt;</span><i class="conum" data-value="4"></i><b>(4)</b>
                <span class="tag">&lt;Pattern&gt;</span>%d{ISO8601} %-5level [%thread] %logger %m%n<span class="tag">&lt;/Pattern&gt;</span>
            <span class="tag">&lt;/PatternLayout&gt;</span>
            <span class="tag">&lt;Policies&gt;</span>
                <span class="tag">&lt;TimeBasedTriggeringPolicy</span><span class="tag">/&gt;</span>
                <span class="tag">&lt;SizeBasedTriggeringPolicy</span> <span class="attribute-name">size</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">1m</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
            <span class="tag">&lt;/Policies&gt;</span>
            <span class="tag">&lt;Strategies&gt;</span>
                <span class="tag">&lt;DefaultRolloverStrategy</span> <span class="attribute-name">max</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">10</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
            <span class="tag">&lt;/Strategies&gt;</span>
        <span class="tag">&lt;/RollingFile&gt;</span>
    <span class="tag">&lt;/Appenders&gt;</span>

    <span class="comment">&lt;!-- Loggers --&gt;</span>
    <span class="tag">&lt;Loggers&gt;</span>
        <span class="tag">&lt;Logger</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">com.github.gquintana.logging</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">level</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">debug</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;Root</span> <span class="attribute-name">level</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">info</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
            <span class="tag">&lt;AppenderRef</span> <span class="attribute-name">ref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">CONSOLE</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
            <span class="tag">&lt;AppenderRef</span> <span class="attribute-name">ref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">FILE</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;/Root&gt;</span>
    <span class="tag">&lt;/Loggers&gt;</span>
<span class="tag">&lt;/Configuration&gt;</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Setting <code>status</code> to <code>trace</code> or <code>debug</code> shows Log4J2 internal logs.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The <code>logDir</code> property is set from JVM property (<code>-Dlog.dir=&#8230;&#8203;</code>) with default value.
See <a href="https://logging.apache.org/log4j/2.x/manual/configuration.html#Property_Substitution">Property substitution</a> in documentation.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The <code>PatternLayout</code> is documented in the <a href="https://logging.apache.org/log4j/2.x/manual/layouts.html#PatternLayout">layout</a> section.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Format the <code>date</code> in ISO8601.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You can tell Log4J2 to load a specific configuration file using a JVM property <code>-Dlog4j.configurationFile=/path/to/config.xml</code>.</p>
</div>
<div class="paragraph">
<p>The <a href="http://logging.apache.org/log4j/2.x/manual/index.html">Log4J2 Manual</a> contains extensive documentation.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="log4j1">Log4J1</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Even if it&#8217;s deprecated, let&#8217;s end with the venerable Log4J v1 library.</p>
</div>
<div class="listingblock">
<div class="title">pom.xml</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">        <span class="tag">&lt;dependency&gt;</span>
            <span class="tag">&lt;groupId&gt;</span>log4j<span class="tag">&lt;/groupId&gt;</span>
            <span class="tag">&lt;artifactId&gt;</span>log4j<span class="tag">&lt;/artifactId&gt;</span>
            <span class="tag">&lt;scope&gt;</span>runtime<span class="tag">&lt;/scope&gt;</span>
        <span class="tag">&lt;/dependency&gt;</span>
        <span class="tag">&lt;dependency&gt;</span>
            <span class="tag">&lt;groupId&gt;</span>org.slf4j<span class="tag">&lt;/groupId&gt;</span>
            <span class="tag">&lt;artifactId&gt;</span>slf4j-log4j12<span class="tag">&lt;/artifactId&gt;</span>
            <span class="tag">&lt;scope&gt;</span>runtime<span class="tag">&lt;/scope&gt;</span>
        <span class="tag">&lt;/dependency&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The Log4J1-SLF4J adapter is in the SLF4J group.</p>
</div>
<div class="listingblock">
<div class="title">log4j.xml</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="preprocessor">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="doctype">&lt;!DOCTYPE log4j:configuration SYSTEM &quot;log4j.dtd&quot;&gt;</span>
<span class="tag">&lt;log4j:configuration</span> <span class="attribute-name">xmlns:log4j</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://jakarta.apache.org/log4j/</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">debug</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">true</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span><i class="conum" data-value="1"></i><b>(1)</b>
    <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="comment">&lt;!-- Appenders --&gt;</span>
    <span class="tag">&lt;appender</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">CONSOLE</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">org.apache.log4j.ConsoleAppender</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;layout</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">org.apache.log4j.PatternLayout</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span><i class="conum" data-value="3"></i><b>(3)</b>
            <span class="tag">&lt;param</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">ConversionPattern</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">%d{HH:mm:ss.SSS} %-5p %c{1} - %m%n</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;/layout&gt;</span>
    <span class="tag">&lt;/appender&gt;</span>
    <span class="tag">&lt;appender</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">FILE</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">org.apache.log4j.RollingFileAppender</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span><i class="conum" data-value="4"></i><b>(4)</b>
        <span class="tag">&lt;param</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">File</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">${log.dir}/blog.log</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;param</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">MaxFileSize</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">10MB</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;param</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">MaxBackupIndex</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">10</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;layout</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">org.apache.log4j.PatternLayout</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span><i class="conum" data-value="5"></i><b>(5)</b>
            <span class="tag">&lt;param</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">ConversionPattern</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">%d{ISO8601} %-5p [%t] %c - %m%n</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;/layout&gt;</span>
    <span class="tag">&lt;/appender&gt;</span>
    <span class="comment">&lt;!-- Loggers --&gt;</span>
    <span class="tag">&lt;root&gt;</span>
        <span class="tag">&lt;priority</span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">INFO</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;appender-ref</span> <span class="attribute-name">ref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">CONSOLE</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;appender-ref</span> <span class="attribute-name">ref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">FILE</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;/root&gt;</span>
<span class="tag">&lt;/log4j:configuration&gt;</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Like Logback, the <code>debug</code> flag enables Log4J1 internal logs.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>There aren&#8217;t any properties in Log4J1.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The <code>PatternLayout</code> is documented in the <a href="http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/PatternLayout.html">JavaDoc</a>.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>There is no DailyRollingFileAppender in Log4J1 unless you add <code>log4j-extras</code> extension.
Even with this extension, one can not mix size and time rollover.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Format the <code>date</code> in ISO8601.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You shouldn&#8217;t forget <code>file:/</code> if you use specific configuration file with the JVM property <code>-Dlog4j.configuration=file:///path/to/config.xml</code>.</p>
</div>
<div class="paragraph">
<p>The <a href="https://logging.apache.org/log4j/1.2/manual.html">Log4J1 Manual</a> is only a quick introduction. By the time, there was a <a href="https://www.amazon.com/Complete-Log4j-Manual-Ceki-Gulcu/dp/2970036908">book</a> .</p>
</div>
</div>
</div>
    </div>
    <div class="clearfix">
        <h4>Other posts</h4>
        <ul>
            
                <li>2020-01-16
                    <a href="/2020/01/16/Retrieving-Kafka-lag.html">Retrieving Kafka Lag</a>
                </li>
            
                <li>2020-01-10
                    <a href="/2020/01/10/Home-temperature-monitoring.html">Home temperature monitoring</a>
                </li>
            
                <li>2019-12-10
                    <a href="/2019/12/10/Kafka-connect-plugin-install.html">Kafka connect plugin install</a>
                </li>
            
                <li>2019-07-03
                    <a href="/2019/07/03/Kafka-integration-tests.html">Kafka integration tests</a>
                </li>
            
                <li>2019-05-17
                    <a href="/2019/05/17/Logging-configuration.html">Logging configuration</a>
                </li>
            
        </ul>
    </div>
</div>

        </main>
        <footer class="footer text-muted">
            <div class="container">
                <p class="float-right">
                    <a href="#"><i class="fa fa-arrow-up" aria-hidden="true"></i>
 Back to top</a>
                </p>
                <p>Made with <i class="fa fa-heart" aria-hidden="true"></i> by GÃ©rald Quintana</p>
        </footer>
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
    </body>
</html>
